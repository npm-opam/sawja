<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="JRTAWithHeap.html">
<link rel="next" href="JCFAOptions.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Iter" rel="Chapter" href="Iter.html">
<link title="Wlist" rel="Chapter" href="Wlist.html">
<link title="JProgram" rel="Chapter" href="JProgram.html">
<link title="ClassDomain" rel="Chapter" href="ClassDomain.html">
<link title="JNativeStubs" rel="Chapter" href="JNativeStubs.html">
<link title="JsrInline" rel="Chapter" href="JsrInline.html">
<link title="JControlFlow" rel="Chapter" href="JControlFlow.html">
<link title="JPrintHtml" rel="Chapter" href="JPrintHtml.html">
<link title="JPrintPlugin" rel="Chapter" href="JPrintPlugin.html">
<link title="ArgPlugin" rel="Chapter" href="ArgPlugin.html">
<link title="JCodePP" rel="Chapter" href="JCodePP.html">
<link title="JBir" rel="Chapter" href="JBir.html">
<link title="JBirPP" rel="Chapter" href="JBirPP.html">
<link title="A3Bir" rel="Chapter" href="A3Bir.html">
<link title="A3BirPP" rel="Chapter" href="A3BirPP.html">
<link title="JBirSSA" rel="Chapter" href="JBirSSA.html">
<link title="JBirSSAPP" rel="Chapter" href="JBirSSAPP.html">
<link title="A3BirSSA" rel="Chapter" href="A3BirSSA.html">
<link title="A3BirSSAPP" rel="Chapter" href="A3BirSSAPP.html">
<link title="Live_bir" rel="Chapter" href="Live_bir.html">
<link title="Live_a3bir" rel="Chapter" href="Live_a3bir.html">
<link title="Safe" rel="Chapter" href="Safe.html">
<link title="ReachableMethods" rel="Chapter" href="ReachableMethods.html">
<link title="JType" rel="Chapter" href="JType.html">
<link title="ParserType" rel="Chapter" href="ParserType.html">
<link title="Parse_heap" rel="Chapter" href="Parse_heap.html">
<link title="HeapParser" rel="Chapter" href="HeapParser.html">
<link title="JCRA" rel="Chapter" href="JCRA.html">
<link title="XTA" rel="Chapter" href="XTA.html">
<link title="JRTA" rel="Chapter" href="JRTA.html">
<link title="JRTAWithHeap" rel="Chapter" href="JRTAWithHeap.html">
<link title="JRRTA" rel="Chapter" href="JRRTA.html">
<link title="JCFAOptions" rel="Chapter" href="JCFAOptions.html">
<link title="JCFADom" rel="Chapter" href="JCFADom.html">
<link title="JCFAPrinter" rel="Chapter" href="JCFAPrinter.html">
<link title="JCFA" rel="Chapter" href="JCFA.html">
<link title="ReachDef" rel="Chapter" href="ReachDef.html">
<link title="AvailableExpr" rel="Chapter" href="AvailableExpr.html">
<link title="Javalib_pack.Javalib" rel="Chapter" href="Javalib_pack.Javalib.html">
<link title="Javalib_pack.JBasics" rel="Chapter" href="Javalib_pack.JBasics.html">
<link title="Javalib_pack.JCode" rel="Chapter" href="Javalib_pack.JCode.html"><title>Sawja : JRRTA</title>
</head>
<body>
<div class="navbar"><a class="pre" href="JRTAWithHeap.html" title="JRTAWithHeap">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="JCFAOptions.html" title="JCFAOptions">Next</a>
</div>
<h1>Module <a href="type_JRRTA.html">JRRTA</a></h1>

<pre><span class="keyword">module</span> JRRTA: <code class="code"><span class="keyword">sig</span></code> <a href="JRRTA.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Builds high level representations of Java bytecode programs using a
    refinement of RTA.<br>
</div>
<hr width="100%">
<br>
This analysis starts from rta instantiated classes to refine the set
    of parsed methods by taking into account some restrictions on types
    that occur when resolving virtual and interface calls.
<p>

    Indeed, when issuing a virtual or interface call inside a calling
    method, the dynamic type of the called class is restricted by many
    factors :
<p>
<ul>
<li>the type of the parameters of the calling method</li>
<li>the classes instantiations that occur in the calling method</li>
<li>the classes coming from getfield and getstatic instructions</li>
<li>the classes coming from the return types of invoked methods</li>
</ul>

    It's important to notice that our algorithm is flow insensitive.
    Indeed, we first parse all the calling method instructions to build
    a local set of instantiated classes by applying the former
    restrictions to the set of instantiated classes calculated by RTA.
    It's important to say that this set will never propagate.
<p>

    Then we resolve the virtual and interface calls inside the calling
    method relying on this set. As the set of resolved methods will be
    smaller (or equal) than the one calculated by RTA, we will
    potentially parse less methods and get more precise on the
    callgraph.<br>

<pre><span id="VALparse_program"><span class="keyword">val</span> parse_program</span> : <code class="type">?instantiated:<a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> list -><br>       ?other_entrypoints:<a href="Javalib_pack.JBasics.html#TYPEclass_method_signature">Javalib_pack.JBasics.class_method_signature</a> list -><br>       string -><br>       <a href="Javalib_pack.JBasics.html#TYPEclass_method_signature">Javalib_pack.JBasics.class_method_signature</a> -><br>       <a href="Javalib_pack.JCode.html#TYPEjcode">Javalib_pack.JCode.jcode</a> <a href="JProgram.html#TYPEprogram">JProgram.program</a> *<br>       <a href="Javalib_pack.JCode.html#TYPEjcode">Javalib_pack.JCode.jcode</a> <a href="JProgram.html#TYPEclass_node">JProgram.class_node</a> Javalib_pack.JBasics.ClassMap.t</code></pre><div class="info ">
<code class="code">parse_program ~other_entrypoints classpath cms</code> first returns a
    <code class="code">program</code> composed of all the code found in <code class="code">classpath</code> and that
    may be accessible from at least one method of <code class="code">cms::entrypoints</code>.
    <code class="code">classpath</code> is a list of directories and <code class="code">.jar</code> or <code class="code">.zip</code> files
    separated with ':' or ';' under Windows.  If <code class="code">entrypoints</code> is not
    specified, the default methods are the methods invoked natively by
    the JVM during its initialization (cf <a href="JRRTA.html#VALdefault_entrypoints"><code class="code"><span class="constructor">JRRTA</span>.default_entrypoints</code></a>).
    <code class="code">instantiated</code> is the list of classes that may be instantiated
    natively by the JVM, if it is not specified it includes the class
    <code class="code">java.lang.<span class="constructor">Class</span></code> (always instantiated by JVM) and
    <a href="JRRTA.html#VALdefault_native_throwable"><code class="code"><span class="constructor">JRRTA</span>.default_native_throwable</code></a>.<br>
</div>

<pre><span id="VALdefault_entrypoints"><span class="keyword">val</span> default_entrypoints</span> : <code class="type"><a href="Javalib_pack.JBasics.html#TYPEclass_method_signature">Javalib_pack.JBasics.class_method_signature</a> list</code></pre><div class="info ">
Sun's JVM calls some methods natively during the JVM
    initialization.  We have included the list (that we suppose
    complete but without guarantee). Some of the method listed may not
    exists (as &lt;clinit&gt; method are optionals) but there should be
    executed in this order.<br>
</div>

<pre><span id="VALcldc11_default_entrypoints"><span class="keyword">val</span> cldc11_default_entrypoints</span> : <code class="type"><a href="Javalib_pack.JBasics.html#TYPEclass_method_signature">Javalib_pack.JBasics.class_method_signature</a> list</code></pre><div class="info ">
Same thing for J2ME CLDC 1.1<br>
</div>

<pre><span id="VALdefault_native_throwable"><span class="keyword">val</span> default_native_throwable</span> : <code class="type"><a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> list</code></pre><div class="info ">
Subclasses of classes RuntimeException and Error that could be
    instantiated and thrown by the JVM (cf. JVM Spec 1.5 ยง2.16.4).<br>
</div>
</body></html>