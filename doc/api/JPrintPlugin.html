<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="JPrintHtml.html">
<link rel="next" href="ArgPlugin.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Iter" rel="Chapter" href="Iter.html">
<link title="Wlist" rel="Chapter" href="Wlist.html">
<link title="JProgram" rel="Chapter" href="JProgram.html">
<link title="ClassDomain" rel="Chapter" href="ClassDomain.html">
<link title="JNativeStubs" rel="Chapter" href="JNativeStubs.html">
<link title="JsrInline" rel="Chapter" href="JsrInline.html">
<link title="JControlFlow" rel="Chapter" href="JControlFlow.html">
<link title="JPrintHtml" rel="Chapter" href="JPrintHtml.html">
<link title="JPrintPlugin" rel="Chapter" href="JPrintPlugin.html">
<link title="ArgPlugin" rel="Chapter" href="ArgPlugin.html">
<link title="JCodePP" rel="Chapter" href="JCodePP.html">
<link title="JBir" rel="Chapter" href="JBir.html">
<link title="JBirPP" rel="Chapter" href="JBirPP.html">
<link title="A3Bir" rel="Chapter" href="A3Bir.html">
<link title="A3BirPP" rel="Chapter" href="A3BirPP.html">
<link title="JBirSSA" rel="Chapter" href="JBirSSA.html">
<link title="JBirSSAPP" rel="Chapter" href="JBirSSAPP.html">
<link title="A3BirSSA" rel="Chapter" href="A3BirSSA.html">
<link title="A3BirSSAPP" rel="Chapter" href="A3BirSSAPP.html">
<link title="Live_bir" rel="Chapter" href="Live_bir.html">
<link title="Live_a3bir" rel="Chapter" href="Live_a3bir.html">
<link title="Safe" rel="Chapter" href="Safe.html">
<link title="ReachableMethods" rel="Chapter" href="ReachableMethods.html">
<link title="JType" rel="Chapter" href="JType.html">
<link title="ParserType" rel="Chapter" href="ParserType.html">
<link title="Parse_heap" rel="Chapter" href="Parse_heap.html">
<link title="HeapParser" rel="Chapter" href="HeapParser.html">
<link title="JCRA" rel="Chapter" href="JCRA.html">
<link title="XTA" rel="Chapter" href="XTA.html">
<link title="JRTA" rel="Chapter" href="JRTA.html">
<link title="JRTAWithHeap" rel="Chapter" href="JRTAWithHeap.html">
<link title="JRRTA" rel="Chapter" href="JRRTA.html">
<link title="JCFAOptions" rel="Chapter" href="JCFAOptions.html">
<link title="JCFADom" rel="Chapter" href="JCFADom.html">
<link title="JCFAPrinter" rel="Chapter" href="JCFAPrinter.html">
<link title="JCFA" rel="Chapter" href="JCFA.html">
<link title="ReachDef" rel="Chapter" href="ReachDef.html">
<link title="AvailableExpr" rel="Chapter" href="AvailableExpr.html">
<link title="Javalib_pack.Javalib" rel="Chapter" href="Javalib_pack.Javalib.html">
<link title="Javalib_pack.JBasics" rel="Chapter" href="Javalib_pack.JBasics.html">
<link title="Javalib_pack.JCode" rel="Chapter" href="Javalib_pack.JCode.html"><link title="Data structures for analysis information." rel="Section" href="#2_Datastructuresforanalysisinformation">
<link title="Printers for Sawja program representations." rel="Section" href="#2_PrintersforSawjaprogramrepresentations">
<link title="Utility functions to fill the JPrintPlugin.plugin_info data structure" rel="Subsection" href="#3_UtilityfunctionstofilltheJPrintPluginplugininfodatastructure">
<title>Sawja : JPrintPlugin</title>
</head>
<body>
<div class="navbar"><a class="pre" href="JPrintHtml.html" title="JPrintHtml">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="ArgPlugin.html" title="ArgPlugin">Next</a>
</div>
<h1>Module <a href="type_JPrintPlugin.html">JPrintPlugin</a></h1>

<pre><span class="keyword">module</span> JPrintPlugin: <code class="code"><span class="keyword">sig</span></code> <a href="JPrintPlugin.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Primitives for generating warnings and information for the Sawja Eclipse Plugin<br>
</div>
<hr width="100%">
<br>
This module contains primitives that facilitate the creation of informative
  data for the Sawja Eclipse Plugin. It is possible to add warnings on source
  code in the JDT (Java Development Toolkit) of Eclipse and to attach
  information on the state of an analysis to the source code, either to provide
  guidance to the Java programmer, or for analysis debugging purpose.
<p>

  To generate this data:
<p>
<ul>
<li>Use the printer for the code representation used by your analysis to
  retrieve an empty <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> data structure
  (<a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALempty_infos"><code class="code"><span class="constructor">PluginPrinter</span>.empty_infos</code></a>).</li>
</ul>
<ul>
<li>Fill the <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> data structure with the necessary warnings and
  information (utility functions are provided for this purpose)</li>
</ul>
<ul>
<li>Use the printer for the code representation used by your analysis and print
  the final data structure (<a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALprint_class"><code class="code"><span class="constructor">PluginPrinter</span>.print_class</code></a> or
  <a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALprint_program"><code class="code"><span class="constructor">PluginPrinter</span>.print_program</code></a>) in the output path given by
  <a href="ArgPlugin.html#TYPEplugin_output"><code class="code"><span class="constructor">ArgPlugin</span>.plugin_output</code></a></li>
</ul>

  N.B.: Information contained by <code class="code">p_infos</code> in <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> can be given as
  structured (HTML) code, in which case it must be specified to the print
  function with the <code class="code">html_info</code> optional parameter. Conversely, warnings
  contained by <code class="code">p_warnings</code> can only be plain text.<br>
<br>
This module contains primitives that facilitate the creation of informative
  data for the Sawja Eclipse Plugin. It is possible to add warnings on source
  code in the JDT (Java Development Toolkit) of Eclipse and to attach
  information on the state of an analysis to the source code, either to provide
  guidance to the Java programmer, or for analysis debugging purpose.
<p>

  To generate this data:
<p>
<ul>
<li>Use the printer for the code representation used by your analysis to
  retrieve an empty <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> data structure
  (<a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALempty_infos"><code class="code"><span class="constructor">PluginPrinter</span>.empty_infos</code></a>).</li>
</ul>
<ul>
<li>Fill the <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> data structure with the necessary warnings and
  information (utility functions are provided for this purpose)</li>
</ul>
<ul>
<li>Use the printer for the code representation used by your analysis and print
  the final data structure (<a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALprint_class"><code class="code"><span class="constructor">PluginPrinter</span>.print_class</code></a> or
  <a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html#VALprint_program"><code class="code"><span class="constructor">PluginPrinter</span>.print_program</code></a>) in the output path given by
  <a href="ArgPlugin.html#TYPEplugin_output"><code class="code"><span class="constructor">ArgPlugin</span>.plugin_output</code></a></li>
</ul>

  N.B.: Information contained by <code class="code">p_infos</code> in <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> can be given as
  structured (HTML) code, in which case it must be specified to the print
  function with the <code class="code">html_info</code> optional parameter. Conversely, warnings
  contained by <code class="code">p_warnings</code> can only be plain text.<br>
<br>
<h2 id="2_Datastructuresforanalysisinformation">Data structures for analysis information.</h2><br>

<pre><code><span id="TYPEmethod_info"><span class="keyword">type</span> <code class="type"></code>method_info</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmethod_info.MethodSignature"><span class="constructor">MethodSignature</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmethod_info.Argument"><span class="constructor">Argument</span></span> <span class="keyword">of</span> <code class="type">int * string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmethod_info.Return"><span class="constructor">Return</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmethod_info.This"><span class="constructor">This</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr></table>

<div class="info ">
Information on a method signature<br>
</div>


<pre><span id="TYPEwarning_pp"><span class="keyword">type</span> <code class="type">'a</code> warning_pp</span> = <code class="type">string * 'a option</code> </pre>
<div class="info ">
Warning on a program point. The type variable 'a can be used if the warning
  location needs to be more precise than an instruction program point (e.g.:
  <a href="JBir.html#TYPEexpr"><code class="code"><span class="constructor">JBir</span>.expr</code></a> for <a href="JBir.html"><code class="code"><span class="constructor">JBir</span></code></a> representation), see the specific code representation
  printer for the exact type.<br>
</div>


<pre><code><span id="TYPEplugin_info"><span class="keyword">type</span> <code class="type">'a</code> plugin_info</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTplugin_info.p_infos">p_infos</span>&nbsp;: <code class="type">(string list * string list Javalib_pack.JBasics.FieldMap.t *<br>        (<a href="JPrintPlugin.html#TYPEmethod_info">method_info</a> list * string list Ptmap.t)<br>        Javalib_pack.JBasics.MethodMap.t)<br>       Javalib_pack.JBasics.ClassMap.t</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
class-related information (one entry in ClassMap.t): (class_infos *
          field_infos FieldMap.t * (method_infos * pc_infos) MethodMap.t<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTplugin_info.p_warnings">p_warnings</span>&nbsp;: <code class="type">(string list * string list Javalib_pack.JBasics.FieldMap.t *<br>        (<a href="JPrintPlugin.html#TYPEmethod_info">method_info</a> list * 'a <a href="JPrintPlugin.html#TYPEwarning_pp">warning_pp</a> list Ptmap.t)<br>        Javalib_pack.JBasics.MethodMap.t)<br>       Javalib_pack.JBasics.ClassMap.t</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
class-related warnings (one entry in ClassMap.t): (class_infos *
        field_infos FieldMap.t * (method_infos * pc_infos) MethodMap.t<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info ">
This type represents warnings and information that will be
    displayed in the Java source code. Information will be displayed
    on all class files that have a source file attached but warnings
    can only be displayed on source files of a Java project in the
    Eclipse environment (e.g. warnings on class files of library
    cannot be displayed).<br>
</div>

<br>
<h3 id="3_UtilityfunctionstofilltheJPrintPluginplugininfodatastructure">Utility functions to fill the <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a> data structure</h3><br>

<pre><span id="TYPEiow"><span class="keyword">type</span> <code class="type">('c, 'f, 'm, 'p)</code> iow</span> = <code class="type">'c list * 'f list Javalib_pack.JBasics.FieldMap.t *<br>       ('m list * 'p list Ptmap.t) Javalib_pack.JBasics.MethodMap.t</code> </pre>
<div class="info ">
<code class="code">iow</code> (info or warning) is a type compatible with <code class="code">p_infos</code> or <code class="code">p_warnings</code>
  fields of <a href="JPrintPlugin.html#TYPEplugin_info"><code class="code"><span class="constructor">JPrintPlugin</span>.plugin_info</code></a><br>
</div>


<pre><span id="VALadd_class_iow"><span class="keyword">val</span> add_class_iow</span> : <code class="type">'c -><br>       <a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t</code></pre><div class="info ">
<code class="code">add_class_iow iow cn cmap</code> adds the info or warning <code class="code">iow</code> for the class
  <code class="code">cn</code> to <code class="code">cmap</code>.<br>
</div>

<pre><span id="VALadd_field_iow"><span class="keyword">val</span> add_field_iow</span> : <code class="type">'f -><br>       <a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> -><br>       <a href="Javalib_pack.JBasics.html#TYPEfield_signature">Javalib_pack.JBasics.field_signature</a> -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t</code></pre><div class="info ">
<code class="code">add_field_iow iow cn fs cmap</code> adds the info or warning <code class="code">iow</code> for the field
  <code class="code">fs</code> of the class <code class="code">cn</code> to <code class="code">cmap</code>.<br>
</div>

<pre><span id="VALadd_meth_iow"><span class="keyword">val</span> add_meth_iow</span> : <code class="type">'m -><br>       <a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> -><br>       <a href="Javalib_pack.JBasics.html#TYPEmethod_signature">Javalib_pack.JBasics.method_signature</a> -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t</code></pre><div class="info ">
<code class="code">add_meth_iow iow cn ms cmap</code> adds the info or warning <code class="code">iow</code> for the method
  <code class="code">ms</code> of the class <code class="code">cn</code> to <code class="code">cmap</code>.<br>
</div>

<pre><span id="VALadd_pp_iow"><span class="keyword">val</span> add_pp_iow</span> : <code class="type">'p -><br>       <a href="Javalib_pack.JBasics.html#TYPEclass_name">Javalib_pack.JBasics.class_name</a> -><br>       <a href="Javalib_pack.JBasics.html#TYPEmethod_signature">Javalib_pack.JBasics.method_signature</a> -><br>       int -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t -><br>       ('c, 'f, 'm, 'p) <a href="JPrintPlugin.html#TYPEiow">iow</a> Javalib_pack.JBasics.ClassMap.t</code></pre><div class="info ">
<code class="code">add_pp_iow iow cn ms pc cmap</code> adds the info or warning <code class="code">iow</code> for the program
  point <code class="code">pc</code> in the method <code class="code">ms</code> of the class <code class="code">cn</code> to <code class="code">cmap</code>.<br>
</div>
<br>
<h2 id="2_PrintersforSawjaprogramrepresentations">Printers for Sawja program representations.</h2><br>

<pre><span class="keyword">module</span> <a href="JPrintPlugin.NewCodePrinter.html">NewCodePrinter</a>: <code class="code"><span class="keyword">sig</span></code> <a href="JPrintPlugin.NewCodePrinter.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Must be used to create a printer for another code representation
    than those included in Sawja
</div>

<pre><span class="keyword">module</span> <a href="JPrintPlugin.JCodePrinter.html">JCodePrinter</a>: <code class="type"><a href="JPrintPlugin.NewCodePrinter.PluginPrinter.html">NewCodePrinter.PluginPrinter</a></code><code class="type">  with type code = JCode.jcode and type expr = unit</code></pre><div class="info">
Printer for the <a href="Javalib_pack.JCode.html"><code class="code"><span class="constructor">Javalib_pack</span>.<span class="constructor">JCode</span></code></a> code representation.
</div>
</body></html>